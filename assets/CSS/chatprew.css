:root {
  /* Perbarui variabel warna agar sesuai dengan tampilan Glow-in */
  --primary-color: #ff8c00;
  /* Orange Glow-in */
  --light-bg: #ffffff;
  /* Putih */
  --dark-text: #1a1a1a;
  --light-gray: #f3efea;
  /* Background utama Body/App */
  --light-hover: #A0BBE2;
  --panel-background: #ffffff;
  /* Background Panel (List Chat & Header Chat) */
  --background-chat: #fefcf9;
  /* Background Conversation Area (Lebih terang dari body) */
  --border-color: #e0e0e0;
  --leftbar-width-desktop: 280px;
  --rightbar-ai-width: 250px; /* Diperkirakan 250px agar lebih ramping, seperti Gambar 2 */

  /* Warna spesifik Chat */
  --incoming-message-bg: #ffffff;
  --outgoing-message-bg: #ff6a00;
  --outgoing-message-text: #ffffff;
  --active-bg: #f8f8f8;
  /* Background chat item terpilih */
  --text-medium: #888;
  /* Warna teks abu-abu */
  --active-border: var(--primary-color);
}

/* Reset dan Styling Dasar */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: Arial, sans-serif;
  background-color: var(--light-gray);
  color: var(--dark-text);
  height: 100vh;
  overflow: hidden;
}

.hidden-checkbox {
  display: none;
}

.d-flex{
  align-self: flex-end;
  display: flex;
  flex-direction: column;
  align-items: flex-end;
}

/* ==================== 1. APP CONTAINER & LEFTBAR (Sama) ==================== */

#app-container {
  display: grid;
  /* Kita hapus max-width di app-container agar Leftbar bisa menempel ke kiri viewport */
  grid-template-columns: var(--leftbar-width-desktop) 1fr var(--rightbar-ai-width);
  height: 100vh;
  /* margin: 0 auto; -- Dihapus */
  position: relative;
  width: 100%;
  /* Memenuhi lebar viewport */
}

#leftbar {
  background-color: var(--light-bg);
  border-right: 1px solid var(--border-color);
  /* Gunakan posisi relatif ke grid di dalam #app-container */
  position: relative;
  /* left: 0; top: 0; width: var(--leftbar-width-desktop); height: 100vh; dihapus karena sudah diatur oleh grid */
  padding: 20px;
  display: flex;
  flex-direction: column;
  z-index: 100;
  grid-column: 1;
  /* Diatur oleh Grid */
}

/* Styling Leftbar (biarkan sesuai dengan revisi sebelumnya) */
.logo {
  font-size: 24px;
  font-weight: bold;
  color: var(--primary-color);
}

.leftbar-header {
  margin-bottom: 30px;
  font-size: 24px;
  font-weight: bold;
  color: var(--primary-color);
}

.leftbar-nav ul {
  list-style: none;
}

.leftbar-nav li {
  margin-bottom: 10px;
}

.leftbar-nav a {
  display: flex;
  align-items: center;
  padding: 12px 15px;
  border-radius: 30px;
  font-size: 16px;
  text-decoration: none;
  color: inherit;
  transition: background-color 0.2s;
}

.leftbar-nav a i {
  margin-right: 15px;
  width: 20px;
}

.leftbar-nav li.active a {
  background-color: color-mix(in srgb, var(--light-hover) 20%, transparent);
  font-weight: bold;
  color: var(--primary-color);
}

.leftbar-nav a:hover {
  background-color: color-mix(in srgb, var(--light-hover) 20%, transparent);
  color: var(--primary-color);
}

.post-btn {
  background-color: var(--primary-color);
  color: var(--light-bg);
  border: none;
  padding: 12px;
  border-radius: 30px;
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
  margin-top: 20px;
  width: 100%;
}


.leftbar-footer {
    margin-top: auto;
    padding-top: 15px;
    border-top: 1px solid var(--border-color);
    display: flex;
    align-items: center;
}
.user-avatar-icon { 
    font-size: 40px; 
    margin-right: 10px;
    color: #ccc;
}
.leftbar-footer .username { font-weight: bold; font-size: 14px; }
.leftbar-footer .handle { font-size: 12px; color: #888; }

.menu-toggle-btn, .close-btn { 
    display: none;
}

#main-content-ai-chat {
    padding: 0;
    overflow: hidden;
    grid-column: 2;
    height: 100vh;
    display: flex; 
    flex-direction: column;
    background-color: var(--background-chat);
    border-right: 1px solid var(--border-color); /* Border pemisah ke Rightbar AI */
}

.chat-view-full {
    display: flex;
    flex-direction: column;
    flex-grow: 1;
    overflow: hidden;
}

/* Header Chat AI */
.chat-header {
    background-color: var(--panel-background);
    padding: 15px 25px;
    border-bottom: 1px solid var(--border-color);
    display: flex;
    flex-direction: column; /* Menggunakan flex-direction column untuk memisahkan back link dan profile info */
    flex-shrink: 0;
}

.back-col{
    width: 40px;
}

.back-link {
    color: var(--dark-text);
    text-decoration: none;
    font-size: 20px;
    margin: auto auto;
    display: flex;
    align-items: center;
    font-weight: 500;
}
.back-link i {
    margin-right: 8px;
    font-size: 16px;
}

.chat-profile-info {
    display: flex;
    align-items: center;
}

.chat-profile-info .avatar {
    width: 45px;
    height: 45px;
    background-color: #c0c0c0;
    border-radius: 50%;
    margin-right: 10px;
    position: relative;
    flex-shrink: 0;
}

.chat-profile-info .avatar.online::after {
    bottom: 0;
    right: 0;
    border: 2px solid var(--panel-background);
}

.chat-header-info .chat-name {
    font-size: 16px;
    font-weight: bold;
}
.chat-header-info .status {
    font-size: 12px;
    color: #4CAF50;
}

.more-icon {
    font-size: 24px;
    cursor: pointer;
    color: var(--text-medium);
    margin-left: auto; 
}

/* Area Percakapan */
.conversation-area {
    flex-grow: 1;
    overflow-y: auto;
    padding: 20px 30px;
    display: flex;
    flex-direction: column;
    gap: 20px;
}

/* Pesan */
.message {
    /* Hapus max-width dari sini */
    padding: 0;
    border-radius: 0;
    font-size: 15px;
    line-height: 1.4;
    position: relative;
}

/* Message from Other User (Incoming - Kiri) */
.message.incoming {
    align-self: flex-start;
    display: flex;
    align-items: flex-end; /* Avatar sejajar dengan bawah pesan */
    gap: 10px;
    max-width: 65%; /* Batasan pesan masuk */
}

.message.incoming p {
    background-color: var(--incoming-message-bg);
    border: 1px solid var(--border-color);
    border-radius: 12px;
    border-top-left-radius: 3px; 
    padding: 10px 15px;
    max-width: 100%;
    margin-bottom: 0;
}


.message.incoming .avatar-message {
  width: 35px;
  /* Ukuran avatar sedikit diperbesar */
  height: 35px;
  background-color: #c0c0c0;
  border-radius: 50%;
  flex-shrink: 0;
  align-self: flex-end;
  /* Avatar rata bawah */
  order: -1;
  /* Pindahkan avatar ke kiri */
}

/* Penempatan Waktu di Pesan Masuk */
.message.incoming .time {
  color: var(--text-medium);
  /* align-self: flex-start; */
  /* Rata kiri dari bubble */
  font-size: 10px;
  order: 1;
  /* Pindahkan waktu ke kanan bubble */
  margin-top: 0;
}

/* Message from Current User (Outgoing) */
.message.outgoing {
  align-self: flex-end;
  display: flex;
  flex-direction: column;
  /* Atur bubble dan waktu terpisah */
  align-items: flex-end;
}

.message.outgoing p {
  background-color: var(--outgoing-message-bg);
  color: var(--outgoing-message-text);
  border-radius: 12px;
  border-top-right-radius: 3px;
  /* Sudut Lancip */
  padding: 10px 15px;
  margin-bottom: 5px;
  /* Jarak antara bubble dan waktu */
  max-width: 100%;
}

.message.outgoing .time {
  color: var(--text-medium);
  /* Warna waktu di bawah bubble keluar */
  margin-top: 0;
}

.message.outgoing .avatar-message {
  display: none;
}


.message-input-area {
  background-color: var(--panel-background);
  padding: 15px 25px;
  border-top: 1px solid var(--border-color);
  display: flex;
  align-items: center;
  flex-shrink: 0;
}

.message-input-area input {
  flex-grow: 1;
  padding: 10px 15px;
  border: 1px solid var(--border-color);
  border-radius: 20px;
  font-size: 14px;
  margin-right: 10px;
  background-color: var(--light-gray);
  outline: none;
}

.send-button {
  background-color: var(--primary-color);
  color: white;
  border: none;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  font-size: 18px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  line-height: 1;
}

/* ==================== 3. RIGHTBAR AI DETAIL (Kolom 3) ==================== */

#rightbar-ai {
    background-color: var(--panel-background);
    border-left: 1px solid var(--border-color);
    padding: 40px 20px;
    grid-column: 3;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    height: 100vh;
}

.ai-details-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 15px;
}

.ai-avatar-large {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    background-color: #f0f0f0;
    overflow: hidden;
    margin-bottom: 5px;
}
.ai-avatar-large img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.ai-name {
    font-size: 20px;
    font-weight: bold;
}

.ai-status {
    color: #4CAF50; /* Hijau */
    font-size: 14px;
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 5px 15px;
    border-radius: 20px;
    background-color: #e6ffe6;
}

.ai-metric {
    color: var(--text-medium);
    font-size: 14px;
    display: flex;
    align-items: center;
    gap: 8px;
    margin-top: 10px;
}

/* ==================== MEDIA QUERY (Mobile) ==================== */

@media (max-width: 900px) {
    #app-container {
        grid-template-columns: 1fr;
    }

    #leftbar {
        display: none;
    }
    
    #main-content-ai-chat {
        grid-column: 1;
        /* Di mobile, rightbar ai juga harus disembunyikan/dijadikan overlay */
        border-right: none;
    }
    
    #rightbar-ai {
        display: none; /* Sembunyikan Rightbar AI di mobile */
    }
    
    .chat-header {
        padding: 10px 15px;
    }
    .back-link {
        margin-bottom: 5px;
    }

    .message.incoming, .message.outgoing {
        max-width: 85%;
    }
}

